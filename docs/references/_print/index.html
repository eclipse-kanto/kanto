<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.100.2"><link rel=canonical type=text/html href=https://websites.eclipseprojects.io/kanto/docs/references/><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/kanto/favicons/favicon.ico><link rel=apple-touch-icon href=/kanto/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/kanto/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/kanto/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/kanto/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/kanto/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/kanto/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/kanto/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/kanto/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/kanto/favicons/android-192x192.png sizes=192x192><title>References | Eclipse Kanto™ | IoT edge software stack</title><meta name=description content="Explore customization of Eclipse Kanto.
"><meta property="og:title" content="References"><meta property="og:description" content="Explore customization of Eclipse Kanto.
"><meta property="og:type" content="website"><meta property="og:url" content="https://websites.eclipseprojects.io/kanto/docs/references/"><meta itemprop=name content="References"><meta itemprop=description content="Explore customization of Eclipse Kanto.
"><meta name=twitter:card content="summary"><meta name=twitter:title content="References"><meta name=twitter:description content="Explore customization of Eclipse Kanto.
"><link rel=preload href=/kanto/scss/main.min.9d78ea442f10667da53dc949285597f3277a444ea3077d21c6c57002a3af9dea.css as=style><link href=/kanto/scss/main.min.9d78ea442f10667da53dc949285597f3277a444ea3077d21c6c57002a3af9dea.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script>
<link rel=stylesheet href=/kanto/css/prism.css></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand-lg navbar-dark navbar-color td-navbar"><a class=navbar-brand href=/kanto/><span class=navbar-logo><svg id="kanto_logo" data-name="Kanto Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 50"><defs><style>.cls-kanto_logo{fill:#fff}</style></defs><title>Eclipse Kanto</title><g transform="translate(0.0,50.0) scale(0.025,-0.025)"><path class="cls-kanto_logo" d="M370 1754c-168-290-306-529-308-533-2-6 557-986 604-1059l14-22h619 619l255 442c327 569 357 622 357 635 0 6-137 246-305 534l-304 524-623 2-623 2-305-525zm780 352c0-2-72-129-161-281-88-152-159-279-157-281s33 14 68 35c255 151 9e2 521 908 521 9 0 182-293 182-308 0-4-219-133-487-287-267-154-485-284-485-290 1-8 930-553 966-568 7-2-140-275-170-316-2-2-222 123-490 278-268 154-490 279-492 276-2-2 66-125 152-274 86-148 156-272 156-275 0-4-80-6-178-6H783L530 768c-139 240-253 442-253 448s114 210 253 452l254 442h183c101 0 183-2 183-4z"/><path class="cls-kanto_logo" d="M2890 1240V520h110 110v236 235l29-3c26-3 50-31 193-233l163-230 128-3c70-1 127 0 127 3s-86 128-191 276c-189 268-191 271-172 292 10 12 96 106 191 208 94 103 172 190 172 193s-60 6-134 6h-135l-158-170c-130-140-163-170-185-170h-28v4e2 4e2H3e3h-110v-720z"/><path class="cls-kanto_logo" d="M5965 1738c-3-18-12-77-20-132-7-54-16-1e2-19-103s-40-15-83-27l-78-22v-64-65l82-3 81-3 4-292c5-323 11-360 71-433 51-61 92-74 245-74h133l-3 67-3 67-80 24c-144 43-145 45-145 381v260l118 3 117 3 3 88 3 87h-121-120v135 135h-90-89l-6-32z"/><path class="cls-kanto_logo" d="M4165 1510c-102-9-236-35-267-51-14-8-18-23-18-74v-65h37c21 0 121 5 224 11 276 16 309 1 309-137v-74h-193c-228 0-277-10-336-69-53-53-71-113-71-234 0-119 12-164 58-217 49-58 102-82 193-88 91-5 158 12 273 69 43 22 80 38 82 36 1-1 12-24 23-50l20-47h86 86l-3 393c-3 385-3 393-26 442-64 139-190 180-477 155zm285-635V770l-27-11c-102-41-176-61-233-66-59-5-69-3-93 18-22 19-29 35-34 79-8 81 10 137 50 155 27 13 170 29 3e2 34l37 1V875z"/><path class="cls-kanto_logo" d="M5225 1486c-33-12-86-39-117-59l-58-37-14 33c-7 19-17 43-20 55-7 20-14 22-92 22h-84v-490-490h105 105v360 359l43 25c99 58 244 83 304 53 61-32 63-47 63-441V520h111 110l-3 378c-4 367-4 379-27 435-30 75-73 124-136 153-70 33-204 33-290 0z"/><path class="cls-kanto_logo" d="M6820 15e2c-96-13-187-63-227-124-43-64-62-128-75-263-13-126-2-288 26-380 49-159 197-231 451-220 239 10 340 82 380 274 17 81 20 318 4 413-24 150-96 243-218 280-76 24-242 34-341 20zm287-206c52-39 66-99 67-279s-10-238-54-280c-33-31-82-45-165-45-135 0-193 40-215 146-17 81-8 346 13 394 33 75 70 90 214 87 96-2 116-5 140-23z"/></svg></span></a><button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-end" id=main_navbar><ul class="navbar-nav mr-4 mb-2 mb-lg-0 pl-4 pl-lg-2"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/kanto/><span class=active>Home</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/kanto/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/kanto/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/eclipse-kanto target=_blank><span>GitHub</span></a></li></ul><div class=navbar-nav><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/kanto/offline-search-index.b2103c55c5d96ef0135c72d0172f35f1.json data-offline-search-base-href=/ data-offline-search-max-results=50></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/kanto/docs/references/>Return to the regular view of this page</a>.</p></div><h1 class=title>References</h1><div class=lead>Explore customization of Eclipse Kanto.</div><ul><li>1: <a href=#pg-1e43023a48407cfe64feb18a5509a0e0>Remote connectivity configuration</a></li><ul><li>1.1: <a href=#pg-acb76b8bad367952e99f3af2db1c0c2b>Suite connector configuration</a></li><li>1.2: <a href=#pg-8f7bfec5149532d21fcc007c2d3587af>Suite bootstrapping configuration</a></li></ul><li>2: <a href=#pg-e3f44522a7168d1eeef35264012b536b>Local digital twins configuration</a></li><li>3: <a href=#pg-06af2c208a89b1647c8ccdaa4b0a08d7>Container management configuration</a></li><ul><li>3.1: <a href=#pg-5ec561ebd13cd31801c37882f826ab0d>Container configuration</a></li><li>3.2: <a href=#pg-3a1ecf0c4318cf78aef2b1c17e1dfd41>Manager configuration</a></li></ul><li>4: <a href=#pg-b2c1d21c4a9cc13d9be27087a3526748>Software update configuration</a></li><li>5: <a href=#pg-01316635438332b05a343c9a9910a8c4>File upload configuration</a></li><li>6: <a href=#pg-0eee451d3069409589fa6cb50119a20b>System metrics configuration</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-1e43023a48407cfe64feb18a5509a0e0>1 - Remote connectivity configuration</h1><div class=lead>Customize the remote connectivity and automatic provisioning.</div></div><div class=td-content><h1 id=pg-acb76b8bad367952e99f3af2db1c0c2b>1.1 - Suite connector configuration</h1><div class=lead>Customize the remote connectivity.</div><h3 id=properties>Properties</h3><p>To control all aspects of the suite connector behavior.</p><table><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>provisioningFile</td><td>string ​</td><td>provisioning.json</td><td>Path to the provisioning file, if <a href=/kanto/docs/getting-started/dmp/ target=_blank>Bosch IoT Device Management</a> is in use</td></tr><tr><td><strong>Remote connectivity</strong></td><td></td><td></td><td></td></tr><tr><td>address</td><td>string</td><td>mqtts://mqtt.bosch-iot-hub.com:8883</td><td>Address of the MQTT endpoint that the suite connector will connect for the remote communication, the format is: <code>scheme://host:port</code></td></tr><tr><td>deviceId</td><td>string</td><td></td><td>Device unique identifier</td></tr><tr><td>authId</td><td>string</td><td></td><td>Authentication unique identifier that is a part of the credentials</td></tr><tr><td>tenantId</td><td>string</td><td></td><td>Tenant unique identifier that the device belongs to</td></tr><tr><td>password</td><td>string</td><td></td><td>Password that is a part of the credentials</td></tr><tr><td>clientId</td><td>string</td><td></td><td>MQTT client unique identifier</td></tr><tr><td>policyId</td><td>string</td><td></td><td>Policy unique identifier of the digital twin</td></tr><tr><td><strong>Remote connectivity - TLS</strong></td><td></td><td></td><td></td></tr><tr><td>caCert</td><td>string</td><td>iothub.crt</td><td>PEM encoded CA certificates file</td></tr><tr><td>cert</td><td>string</td><td></td><td>PEM encoded certificate file to authenticate to the MQTT endpoint</td></tr><tr><td>key</td><td>string</td><td></td><td>PEM encoded unencrypted private key file to authenticate to the MQTT endpoint</td></tr><tr><td>deviceIdPattern</td><td>string</td><td></td><td>Pattern to generate the device identifier, <code>{{subject-dn}}</code> and <code>{{subject-cn}}</code> placeholders can be part of it</td></tr><tr><td><strong>Remote connectivity - TLS over TPM</strong></td><td></td><td></td><td></td></tr><tr><td>tpmDevice</td><td>string</td><td></td><td>Path to the device file or the unix socket to access the TPM 2.0</td></tr><tr><td>tpmHandle</td><td>int</td><td></td><td>TPM 2.0 storage root key handle, the type is unsigned 64-bit integer</td></tr><tr><td>tpmKeyPub</td><td>string</td><td></td><td>File path to the public part of the TPM 2.0 key</td></tr><tr><td>tpmKey</td><td>string</td><td></td><td>File path to the private part of the TPM 2.0 key</td></tr><tr><td><strong>Local connectivity</strong></td><td></td><td></td><td></td></tr><tr><td>localAddress</td><td>string</td><td>tcp://localhost:1883</td><td>Address of the MQTT server/broker that the suite connector will connect for the local communication, the format is: <code>scheme://host:port</code></td></tr><tr><td>localUsername</td><td>string</td><td></td><td>Username that is a part of the credentials</td></tr><tr><td>localPassword</td><td>string</td><td></td><td>Password that is a part of the credentials</td></tr><tr><td><strong>Local connectivity - TLS</strong></td><td></td><td></td><td></td></tr><tr><td>localCACert</td><td>string</td><td></td><td>PEM encoded CA certificates file</td></tr><tr><td>localCert</td><td>string</td><td></td><td>PEM encoded certificate file to authenticate to the MQTT server/broker</td></tr><tr><td>localKey</td><td>string</td><td></td><td>PEM encoded unencrypted private key file to authenticate to the MQTT server/broker</td></tr><tr><td><strong>Logging</strong></td><td></td><td></td><td></td></tr><tr><td>logFile</td><td>string</td><td>log/suite-connector.log</td><td>Path to the file where log messages are written</td></tr><tr><td>logLevel</td><td>string</td><td>INFO</td><td>All log messages at this or a higher level will be logged, the log levels in descending order are: ERROR, WARN, INFO, DEBUG and TRACE</td></tr><tr><td>logFileCount</td><td>int</td><td>5</td><td>Log file maximum rotations count</td></tr><tr><td>logFileMaxAge</td><td>int</td><td>28</td><td>Log file rotations maximum age in days, use 0 to not remove old log files</td></tr><tr><td>logFileSize</td><td>int</td><td>2</td><td>Log file size in MB before it gets rotated</td></tr></tbody></table><h3 id=example>Example</h3><p>The minimal required configuration to connect the publicly available
<a href=https://www.eclipse.org/hono/sandbox/ target=_blank>Eclipse Hono sandbox</a>.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;address&#34;</span>:<span style=color:#a50>&#34;hono.eclipseprojects.io:1883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tenantId&#34;</span>: <span style=color:#a50>&#34;org.eclipse.kanto&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;deviceId&#34;</span>: <span style=color:#a50>&#34;org.eclipse.kanto:exampleDevice&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;authId&#34;</span>: <span style=color:#a50>&#34;org.eclipse.kanto_example&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;password&#34;</span>: <span style=color:#a50>&#34;secret&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;/var/log/suite-connector/suite-connector.log&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=template>Template</h3><p>The configuration can be further adjusted according to the use case.
The following template illustrates all possible properties with their default values.</p><div class="alert primary alert-docs-container" role=alert><div><span class=alert-docs-pic><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192"><defs><style>.cls-alert-warn{fill:#476e40}</style></defs><title>Warning</title><path class="cls-alert-warn" d="M175.783 160H16.217L96 15.735 175.783 160zm-146-8h132.434L96 32.265 29.783 152zm73.328-15.111c0 3.89-3.222 7.111-7.111 7.111-4 0-7.111-3.11-7.111-7.111.0-4 3.11-7.111 7.111-7.111 3.889.0 7.111 3.222 7.111 7.11zm-12.223-48V64h10.223v24.889l-2.667 30.667h-4.888l-2.668-30.667z"/></svg></span></div>Be aware that some combinations may be incompatible</div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;provisioningFile&#34;</span>: <span style=color:#a50>&#34;provisioning.json&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;address&#34;</span>: <span style=color:#a50>&#34;mqtts://mqtt.bosch-iot-hub.com:8883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;deviceId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;authId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tenantId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;password&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;clientId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;policyId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;caCert&#34;</span>: <span style=color:#a50>&#34;iothub.crt&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;cert&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;key&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;deviceIdPattern&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmDevice&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmHandle&#34;</span>: <span style=color:#099>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmKeyPub&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmKey&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;localAddress&#34;</span>: <span style=color:#a50>&#34;tcp://localhost:1883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;localUsername&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;localPassword&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;log/suite-connector.log&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logLevel&#34;</span>: <span style=color:#a50>&#34;INFO&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileCount&#34;</span>: <span style=color:#099>5</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileMaxAge&#34;</span>: <span style=color:#099>28</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileSize&#34;</span>: <span style=color:#099>2</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-8f7bfec5149532d21fcc007c2d3587af>1.2 - Suite bootstrapping configuration</h1><div class=lead>Customize the automatic provisioning.</div><h3 id=properties>Properties</h3><p>To control all aspects of the suite bootstrapping behavior.</p><table><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>preBootstrapScript</td><td>string[]</td><td></td><td>Path to the script/command with an optional sequence of additional flags/parameters that is executed before a bootstrapping request, optionally producing a <code>preBootstrapFile</code></td></tr><tr><td>preBootstrapFile</td><td>string</td><td></td><td>Path to the file used as a bootstrapping request data</td></tr><tr><td>postBootstrapScript</td><td>string[]</td><td></td><td>Path to the script/command with an optional sequence of additional flags/parameters that is executed after a bootstrapping response, optionally consuming a <code>postBootstrapFile</code></td></tr><tr><td>postBootstrapFile</td><td>string</td><td></td><td>Path to the file used for a bootstrapping response data</td></tr><tr><td>bootstrapProvisioningFile</td><td>string</td><td></td><td>Path to the file that stores the provisioning information from a bootstrapping response</td></tr><tr><td>maxChunkSize</td><td>int</td><td>46080</td><td>Maximum chunk size of the request data in bytes</td></tr><tr><td>provisioningFile</td><td>string</td><td>provisioning.json</td><td>Path to the provisioning file, if <a href=/kanto/docs/getting-started/dmp/ target=_blank>Bosch IoT Device Management</a> is in use</td></tr><tr><td><strong>Remote connectivity</strong></td><td></td><td></td><td></td></tr><tr><td>address</td><td>string</td><td>mqtts://mqtt.bosch-iot-hub.com:8883</td><td>Address of the MQTT endpoint that the suite bootstrapping will connect for the remote communication, the format is: <code>scheme://host:port</code></td></tr><tr><td>deviceId</td><td>string</td><td></td><td>Device unique identifier</td></tr><tr><td>authId</td><td>string</td><td></td><td>Authentication unique identifier that is a part of the credentials</td></tr><tr><td>tenantId</td><td>string</td><td></td><td>Tenant unique identifier that the device belongs to</td></tr><tr><td>password</td><td>string</td><td></td><td>Password that is a part of the credentials</td></tr><tr><td>clientId</td><td>string</td><td></td><td>MQTT client unique identifier</td></tr><tr><td>policyId</td><td>string</td><td></td><td>Policy unique identifier of the digital twin</td></tr><tr><td><strong>Remote connectivity - TLS</strong></td><td></td><td></td><td></td></tr><tr><td>caCert</td><td>string</td><td>iothub.crt</td><td>PEM encoded CA certificates file</td></tr><tr><td>cert</td><td>string</td><td></td><td>PEM encoded certificate file to authenticate to the MQTT endpoint</td></tr><tr><td>key</td><td>string</td><td></td><td>PEM encoded unencrypted private key file to authenticate to the MQTT endpoint</td></tr><tr><td>deviceIdPattern</td><td>string</td><td></td><td>Pattern to generate the device identifier, <code>{{subject-dn}}</code> and <code>{{subject-cn}}</code> placeholders can be part of it</td></tr><tr><td><strong>Remote connectivity - TLS over TPM</strong></td><td></td><td></td><td></td></tr><tr><td>tpmDevice</td><td>string</td><td></td><td>Path to the device file or the unix socket to access the TPM 2.0</td></tr><tr><td>tpmHandle</td><td>int</td><td></td><td>TPM 2.0 storage root key handle, the type is unsigned 64-bit integer</td></tr><tr><td>tpmKeyPub</td><td>string</td><td></td><td>File path to the public part of the TPM 2.0 key</td></tr><tr><td>tpmKey</td><td>string</td><td></td><td>File path to the private part of the TPM 2.0 key</td></tr><tr><td><strong>Logging</strong></td><td></td><td></td><td></td></tr><tr><td>logFile</td><td>string</td><td>log/suite-bootstrapping.log</td><td>Path to the file where log messages are written</td></tr><tr><td>logLevel</td><td>string</td><td>INFO</td><td>All log messages at this or a higher level will be logged, the log levels in descending order are: ERROR, WARN, INFO, DEBUG and TRACE</td></tr><tr><td>logFileCount</td><td>int</td><td>5</td><td>Log file maximum rotations count</td></tr><tr><td>logFileMaxAge</td><td>int</td><td>28</td><td>Log file rotations maximum age in days, use 0 to not remove old log files</td></tr><tr><td>logFileSize</td><td>int</td><td>2</td><td>Log file size in MB before it gets rotated</td></tr></tbody></table><p><strong>Example</strong></p><p>The minimal required configuration to connect the publicly available
<a href=https://www.eclipse.org/hono/sandbox/ target=_blank>Eclipse Hono sandbox</a> and request automatic provisioning.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;address&#34;</span>:<span style=color:#a50>&#34;hono.eclipseprojects.io:1883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tenantId&#34;</span>: <span style=color:#a50>&#34;org.eclipse.kanto&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;deviceId&#34;</span>: <span style=color:#a50>&#34;org.eclipse.kanto:exampleDevice&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;authId&#34;</span>: <span style=color:#a50>&#34;org.eclipse.kanto_example&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;password&#34;</span>: <span style=color:#a50>&#34;secret&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;/var/log/suite-bootstrapping/suite-bootstrapping.log&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=template>Template</h3><p>The configuration can be further adjusted according to the use case.
The following template illustrates all possible properties with their default values.</p><div class="alert primary alert-docs-container" role=alert><div><span class=alert-docs-pic><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192"><defs><style>.cls-alert-warn{fill:#476e40}</style></defs><title>Warning</title><path class="cls-alert-warn" d="M175.783 160H16.217L96 15.735 175.783 160zm-146-8h132.434L96 32.265 29.783 152zm73.328-15.111c0 3.89-3.222 7.111-7.111 7.111-4 0-7.111-3.11-7.111-7.111.0-4 3.11-7.111 7.111-7.111 3.889.0 7.111 3.222 7.111 7.11zm-12.223-48V64h10.223v24.889l-2.667 30.667h-4.888l-2.668-30.667z"/></svg></span></div>Be aware that some combinations may be incompatible</div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;preBootstrapScript&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;preBootstrapFile&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;postBootstrapScript&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;postBootstrapFile&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;bootstrapProvisioningFile&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;maxChunkSize&#34;</span>: <span style=color:#099>46080</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;provisioningFile&#34;</span>: <span style=color:#a50>&#34;provisioning.json&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;address&#34;</span>: <span style=color:#a50>&#34;mqtts://mqtt.bosch-iot-hub.com:8883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;deviceId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;authId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tenantId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;password&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;clientId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;policyId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;caCert&#34;</span>: <span style=color:#a50>&#34;iothub.crt&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;cert&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;key&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;deviceIdPattern&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmDevice&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmHandle&#34;</span>: <span style=color:#099>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmKeyPub&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmKey&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;log/suite-bootstrapping.log&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logLevel&#34;</span>: <span style=color:#a50>&#34;INFO&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileCount&#34;</span>: <span style=color:#099>5</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileMaxAge&#34;</span>: <span style=color:#099>28</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileSize&#34;</span>: <span style=color:#099>2</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-e3f44522a7168d1eeef35264012b536b>2 - Local digital twins configuration</h1><div class=lead>Customize the local digital twins persistency, access and synchronization.</div><h3 id=properties>Properties</h3><p>To control all aspects of the local digital twins behavior.</p><table><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>thingsDb</td><td>string</td><td>things.db</td><td>Path to the file where digital twins will be stored</td></tr><tr><td>provisioningFile</td><td>string ​</td><td>provisioning.json</td><td>Path to the provisioning file, if <a href=/kanto/docs/getting-started/dmp/ target=_blank>Bosch IoT Device Management</a> is in use</td></tr><tr><td><strong>Remote connectivity</strong></td><td></td><td></td><td></td></tr><tr><td>address</td><td>string</td><td>mqtts://mqtt.bosch-iot-hub.com:8883</td><td>Address of the MQTT endpoint that the local digital twins will connect for the remote communication, the format is: <code>scheme://host:port</code></td></tr><tr><td>deviceId</td><td>string</td><td></td><td>Device unique identifier</td></tr><tr><td>authId</td><td>string</td><td></td><td>Authentication unique identifier that is a part of the credentials</td></tr><tr><td>tenantId</td><td>string</td><td></td><td>Tenant unique identifier that the device belongs to</td></tr><tr><td>password</td><td>string</td><td></td><td>Password that is a part of the credentials</td></tr><tr><td>clientId</td><td>string</td><td></td><td>MQTT client unique identifier</td></tr><tr><td>policyId</td><td>string</td><td></td><td>Policy unique identifier of the digital twin</td></tr><tr><td><strong>Remote connectivity - TLS</strong></td><td></td><td></td><td></td></tr><tr><td>caCert</td><td>string</td><td>iothub.crt</td><td>PEM encoded CA certificates file</td></tr><tr><td>cert</td><td>string</td><td></td><td>PEM encoded certificate file to authenticate to the MQTT endpoint</td></tr><tr><td>key</td><td>string</td><td></td><td>PEM encoded unencrypted private key file to authenticate to the MQTT endpoint</td></tr><tr><td>deviceIdPattern</td><td>string</td><td></td><td>Pattern to generate the device identifier, <code>{{subject-dn}}</code> and <code>{{subject-cn}}</code> placeholders can be part of it</td></tr><tr><td><strong>Remote connectivity - TLS over TPM</strong></td><td></td><td></td><td></td></tr><tr><td>tpmDevice</td><td>string</td><td></td><td>Path to the device file or the unix socket to access the TPM 2.0</td></tr><tr><td>tpmHandle</td><td>int</td><td></td><td>TPM 2.0 storage root key handle, the type is unsigned 64-bit integer</td></tr><tr><td>tpmKeyPub</td><td>string</td><td></td><td>File path to the public part of the TPM 2.0 key</td></tr><tr><td>tpmKey</td><td>string</td><td></td><td>File path to the private part of the TPM 2.0 key</td></tr><tr><td><strong>Local connectivity</strong></td><td></td><td></td><td></td></tr><tr><td>localAddress</td><td>string</td><td>tcp://localhost:1883</td><td>Address of the MQTT server/broker that the local digital twins will connect for the local communication, the format is: <code>scheme://host:port</code></td></tr><tr><td>localUsername</td><td>string</td><td></td><td>Username that is a part of the credentials</td></tr><tr><td>localPassword</td><td>string</td><td></td><td>Password that is a part of the credentials</td></tr><tr><td><strong>Local connectivity - TLS</strong></td><td></td><td></td><td></td></tr><tr><td>localCACert</td><td>string</td><td></td><td>PEM encoded CA certificates file</td></tr><tr><td>localCert</td><td>string</td><td></td><td>PEM encoded certificate file to authenticate to the MQTT server/broker</td></tr><tr><td>localKey</td><td>string</td><td></td><td>PEM encoded unencrypted private key file to authenticate to the MQTT server/broker</td></tr><tr><td><strong>Logging</strong></td><td></td><td></td><td></td></tr><tr><td>logFile</td><td>string</td><td>log/local-digital-twins.log</td><td>Path to the file where log messages are written</td></tr><tr><td>logLevel</td><td>string</td><td>INFO</td><td>All log messages at this or a higher level will be logged, the log levels in descending order are: ERROR, WARN, INFO, DEBUG and TRACE</td></tr><tr><td>logFileCount</td><td>int</td><td>5</td><td>Log file maximum rotations count</td></tr><tr><td>logFileMaxAge</td><td>int</td><td>28</td><td>Log file rotations maximum age in days, use 0 to not remove old log files</td></tr><tr><td>logFileSize</td><td>int</td><td>2</td><td>Log file size in MB before it gets rotated</td></tr></tbody></table><h3 id=example>Example</h3><p>The minimal required configuration to enable the local digital twins and their synchronization with the publicly available <a href=https://www.eclipse.org/hono/sandbox/ target=_blank>Eclipse Hono sandbox</a>.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;address&#34;</span>:<span style=color:#a50>&#34;hono.eclipseprojects.io:1883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tenantId&#34;</span>: <span style=color:#a50>&#34;org.eclipse.kanto&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;deviceId&#34;</span>: <span style=color:#a50>&#34;org.eclipse.kanto:exampleDevice&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;authId&#34;</span>: <span style=color:#a50>&#34;org.eclipse.kanto_example&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;password&#34;</span>: <span style=color:#a50>&#34;secret&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;/var/log/local-digital-twins/local-digital-twins.log&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=template>Template</h3><p>The configuration can be further adjusted according to the use case.
The following template illustrates all possible properties with their default values.</p><div class="alert primary alert-docs-container" role=alert><div><span class=alert-docs-pic><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192"><defs><style>.cls-alert-warn{fill:#476e40}</style></defs><title>Warning</title><path class="cls-alert-warn" d="M175.783 160H16.217L96 15.735 175.783 160zm-146-8h132.434L96 32.265 29.783 152zm73.328-15.111c0 3.89-3.222 7.111-7.111 7.111-4 0-7.111-3.11-7.111-7.111.0-4 3.11-7.111 7.111-7.111 3.889.0 7.111 3.222 7.111 7.11zm-12.223-48V64h10.223v24.889l-2.667 30.667h-4.888l-2.668-30.667z"/></svg></span></div>Be aware that some combinations may be incompatible</div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;thingsDb&#34;</span>: <span style=color:#a50>&#34;things.db&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;provisioningFile&#34;</span>: <span style=color:#a50>&#34;provisioning.json&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;address&#34;</span>: <span style=color:#a50>&#34;mqtts://mqtt.bosch-iot-hub.com:8883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;deviceId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;authId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tenantId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;password&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;clientId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;policyId&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;caCert&#34;</span>: <span style=color:#a50>&#34;iothub.crt&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;cert&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;key&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;deviceIdPattern&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmDevice&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmHandle&#34;</span>: <span style=color:#099>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmKeyPub&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;tpmKey&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;localAddress&#34;</span>: <span style=color:#a50>&#34;tcp://localhost:1883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;localUsername&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;localPassword&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;localCACert&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;localCert&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;localKey&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;log/local-digital-twins.log&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logLevel&#34;</span>: <span style=color:#a50>&#34;INFO&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileCount&#34;</span>: <span style=color:#099>5</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileMaxAge&#34;</span>: <span style=color:#099>28</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileSize&#34;</span>: <span style=color:#099>2</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-06af2c208a89b1647c8ccdaa4b0a08d7>3 - Container management configuration</h1><div class=lead>Customize the deployment and management of containers.</div></div><div class=td-content><h1 id=pg-5ec561ebd13cd31801c37882f826ab0d>3.1 - Container configuration</h1><div class=lead>Customize the deployment of a container instance.</div><h3 id=properties>Properties</h3><p>To control all aspects of the container instance behavior.</p><table><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>container_name</td><td>string</td><td>&lt;container_id></td><td>User-defined name for the container, if omitted the internally auto-generated container ID will be set</td></tr><tr><td><strong>Image</strong></td><td></td><td></td><td></td></tr><tr><td>name</td><td>string</td><td></td><td>Fully qualified image reference, that follows the <a href=https://github.com/opencontainers/image-spec target=_blank>OCI Image Specification</a>, the format is: <code>host[:port]/[namespace/]name:tag</code></td></tr><tr><td><strong>Image - decryption</strong></td><td></td><td></td><td></td></tr><tr><td>keys</td><td>string[]</td><td></td><td>Private keys (GPG private key ring, JWE or PKCS7) used for decrypting the container&rsquo;s image, the format is: <code>filepath_private_key[:password]</code></td></tr><tr><td>recipients</td><td>string[]</td><td></td><td>Recipients (only for PKCS7 and must be an x509) used for decrypting the container&rsquo;s image, the format is: <code>pkcs7:filepath_x509_certificate</code></td></tr><tr><td><strong>Networking</strong></td><td></td><td></td><td></td></tr><tr><td>domain_name</td><td>string</td><td>&lt;container_name>-domain</td><td>Domain name inside the container, if omitted the <code>container_name</code> with suffix -domain will be set</td></tr><tr><td>host_name</td><td>string</td><td>&lt;container_name>-host</td><td>Host name for the container, if omitted the <code>container_name</code> with suffix -host will be set</td></tr><tr><td>network_mode</td><td>string</td><td>bridge</td><td>The container&rsquo;s networking capabilities type based on the desired communication mode, the possible options are: bridge or host</td></tr><tr><td>extra_hosts</td><td>string[]</td><td></td><td>Extra host name to IP address mappings added to the container network configuration, the format is: <code>hostname:ip</code></td></tr><tr><td><strong>Networking - port mappings</strong></td><td></td><td></td><td></td></tr><tr><td>proto</td><td>string</td><td>tcp</td><td>Protocol used for the port mapping from the container to the host, the possible options are: tcp and udp</td></tr><tr><td>container_port</td><td>int</td><td></td><td>Port number on the container that is mapped to the host port</td></tr><tr><td>host_ip</td><td>string</td><td>0.0.0.0</td><td>Host IP address</td></tr><tr><td>host_port</td><td>int</td><td></td><td>Beginning of the host ports range</td></tr><tr><td>host_port_end</td><td>int</td><td>&lt;host_port></td><td>Ending of the host ports range</td></tr><tr><td><strong>Host resources - devices</strong></td><td></td><td></td><td></td></tr><tr><td>path_on_host</td><td>string</td><td></td><td>Path to the device on the host</td></tr><tr><td>path_in_container</td><td>string</td><td></td><td>Path to the device in the container</td></tr><tr><td>cgroup_permissions</td><td>string</td><td>rwm</td><td>Cgroup permissions for the device access, possible options are: r(read), w(write), m(mknod) and all combinations are possible</td></tr><tr><td>privileged</td><td>bool</td><td>false</td><td>Grant root capabilities to all devices on the host system</td></tr><tr><td><strong>Host resources - mount points</strong></td><td></td><td></td><td></td></tr><tr><td>source</td><td>string</td><td></td><td>Path to the file or directory on the host that is referred from within the container</td></tr><tr><td>destination</td><td>string</td><td></td><td>Path to the file or directory that is mounted inside the container</td></tr><tr><td>propagation_mode</td><td>string</td><td>rprivate</td><td>Bind propagation for the mount, supported are: rprivate, private, rshared, shared, rslave or slave</td></tr><tr><td><strong>Process</strong></td><td></td><td></td><td></td></tr><tr><td>env</td><td>string[]</td><td></td><td>Environment variables that are set into the container</td></tr><tr><td>cmd</td><td>string[]</td><td></td><td>Command with arguments that is executed upon the container&rsquo;s start</td></tr><tr><td><strong>Resource management</strong></td><td></td><td></td><td></td></tr><tr><td>memory</td><td>string</td><td></td><td>Hard memory limitation of the container as a number with a unit suffix of B, K, M and G, the minimum allowed value is 3M</td></tr><tr><td>memory_reservation</td><td>string</td><td></td><td>Soft memory limitation of the container as a number with a unit suffix of B, K, M and G, if <code>memory</code> is specified, the <code>memory_reservation</code> must be smaller than it</td></tr><tr><td>memory_swap</td><td>string</td><td></td><td>Total amount of memory and swap that the container can use as a number with a unit suffix of B, K, M and G, use -1 to allow the container to use unlimited swap</td></tr><tr><td><strong>Lifecycle</strong></td><td></td><td></td><td></td></tr><tr><td>type</td><td>string</td><td>unless-stopped</td><td>The container&rsquo;s restart policy, the supported types are: always, no, on-failure and unless-stopped</td></tr><tr><td>maximum_retry_count</td><td>int</td><td></td><td>Maximum number of retries that are made to restart the container on exit with fail, if the <code>type</code> is on-failure</td></tr><tr><td>retry_timeout</td><td>int</td><td></td><td>Timeout period in seconds for each retry that is made to restart the container on exit with fail, if the <code>type</code> is on-failure</td></tr><tr><td><strong>Logging</strong></td><td></td><td></td><td></td></tr><tr><td>type</td><td>string</td><td>json-file</td><td>Type in which the logs are produced, the possible options are: json-file or none</td></tr><tr><td>max_files</td><td>int</td><td>2</td><td>Maximum log files before getting rotated</td></tr><tr><td>max_size</td><td>string</td><td>100M</td><td>Maximum log file size before getting rotated as a number with a unit suffix of B, K, M and G</td></tr><tr><td>root_dir</td><td>string</td><td>&lt;meta_path>/containers/&lt;container_id></td><td>Root directory where the container&rsquo;s log messages are stored</td></tr><tr><td>mode</td><td>string</td><td>blocking</td><td>Messaging delivery mode from the container to the log driver, the supported modes are: blocking and non-blocking</td></tr><tr><td>max_buffer_size</td><td>string</td><td>1M</td><td>Maximum size of the buffered container&rsquo;s log messages in a non-blocking mode as a number with a unit suffix of B, K, M and G</td></tr></tbody></table><h3 id=example>Example</h3><p>The minimal required configuration to spin up an InfluxDB container instance.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#1e90ff;font-weight:700>&#34;image&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;name&#34;</span>: <span style=color:#a50>&#34;docker.io/library/influxdb:1.8.4&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=template>Template</h3><p>The configuration can be further adjusted according to the use case. The following template illustrates all possible properties with their default values.</p><div class="alert primary alert-docs-container" role=alert><div><span class=alert-docs-pic><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192"><defs><style>.cls-alert-warn{fill:#476e40}</style></defs><title>Warning</title><path class="cls-alert-warn" d="M175.783 160H16.217L96 15.735 175.783 160zm-146-8h132.434L96 32.265 29.783 152zm73.328-15.111c0 3.89-3.222 7.111-7.111 7.111-4 0-7.111-3.11-7.111-7.111.0-4 3.11-7.111 7.111-7.111 3.889.0 7.111 3.222 7.111 7.11zm-12.223-48V64h10.223v24.889l-2.667 30.667h-4.888l-2.668-30.667z"/></svg></span></div>Be aware that some combinations may require property removal</div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;container_name&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;image&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;name&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;decrypt_config&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;keys&#34;</span>: [],
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;recipients&#34;</span>: []
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;domain_name&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;host_name&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;mount_points&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;destination&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;source&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;propagation_mode&#34;</span>: <span style=color:#a50>&#34;rprivate&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;config&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;env&#34;</span>: [],
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;cmd&#34;</span>: []
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;host_config&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;devices&#34;</span>: [
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;path_on_host&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;path_in_container&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;cgroup_permissions&#34;</span>: <span style=color:#a50>&#34;rwm&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;network_mode&#34;</span>: <span style=color:#a50>&#34;bridge&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;privileged&#34;</span>: <span style=color:#00a>false</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;extra_hosts&#34;</span>: [],
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;port_mappings&#34;</span>: [
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;proto&#34;</span>: <span style=color:#a50>&#34;tcp&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;container_port&#34;</span>: <span style=color:#099>0</span>,
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;host_ip&#34;</span>: <span style=color:#a50>&#34;0.0.0.0&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;host_port&#34;</span>: <span style=color:#099>0</span>,
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;host_port_end&#34;</span>: <span style=color:#099>0</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;resources&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;memory&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;memory_reservation&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;memory_swap&#34;</span>: <span style=color:#a50>&#34;&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;restart_policy&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;type&#34;</span>: <span style=color:#a50>&#34;unless-stopped&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;maximum_retry_count&#34;</span>: <span style=color:#099>0</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;retry_timeout&#34;</span>: <span style=color:#099>0</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;log_config&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;driver_config&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;type&#34;</span>: <span style=color:#a50>&#34;json-file&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;max_files&#34;</span>: <span style=color:#099>2</span>,
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;max_size&#34;</span>: <span style=color:#a50>&#34;100M&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;root_dir&#34;</span>: <span style=color:#a50>&#34;&#34;</span>
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;mode_config&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;mode&#34;</span>: <span style=color:#a50>&#34;blocking&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;max_buffer_size&#34;</span>: <span style=color:#a50>&#34;1M&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-3a1ecf0c4318cf78aef2b1c17e1dfd41>3.2 - Manager configuration</h1><div class=lead>Customize the container manager components.</div><h3 id=properties>Properties</h3><p>To control all aspects of the container manager behavior.</p><table><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>home_dir</td><td>string</td><td>/var/lib/container-management</td><td>Home directory for the container manager data</td></tr><tr><td>exec_root_dir</td><td>string</td><td>/var/run/container-management</td><td>Root directory for the container manager&rsquo;s executable artifacts</td></tr><tr><td>container_client_sid</td><td>string</td><td>container-management.service.local.v1.service-containerd-client</td><td>Unique identifier that is used for an interaction with the runtime</td></tr><tr><td>network_manager_sid</td><td>string</td><td>container-management.service.local.v1.service-libnetwork-manager</td><td>Unique identifier that is used for networking</td></tr><tr><td>default_ctrs_stop_timeout</td><td>int</td><td>30</td><td>Timeout in seconds for a container to stop gracefully, otherwise its root process will be force stopped</td></tr><tr><td><strong>Runtime</strong></td><td></td><td></td><td></td></tr><tr><td>default_ns</td><td>string</td><td>kanto-cm</td><td>Namespace that is used by the runtime for isolation</td></tr><tr><td>address_path</td><td>string</td><td>/run/containerd/containerd.sock</td><td>Path to the runtime&rsquo;s communication endpoint</td></tr><tr><td>home_dir</td><td>string</td><td>/var/lib/container-management</td><td>Home directory for the runtime data</td></tr><tr><td>exec_root_dir</td><td>string</td><td>/var/run/container-management</td><td>Root directory for the runtime&rsquo;s executable artifacts</td></tr><tr><td>image_dec_keys</td><td>string[]</td><td></td><td>Private keys (GPG private key ring, JWE or PKCS7) used for decrypting container images, the format is: <code>filepath_private_key[:password]</code></td></tr><tr><td>image_dec_recipients</td><td>string[]</td><td></td><td>Recipients (only for PKCS7 and must be an x509) used for decrypting container images, the format is: <code>pkcs7:filepath_x509_certificate</code></td></tr><tr><td>runc_runtime</td><td>string</td><td>io.containerd.runc.v2</td><td>Runc communication mode, the possible values are: io.containerd.runtime.v1.linux, io.containerd.runc.v1 and io.containerd.runc.v2</td></tr><tr><td><strong>Registry access - secure</strong></td><td></td><td></td><td></td></tr><tr><td>user_id</td><td>string</td><td></td><td>User unique identifier to authenticate to the image registry</td></tr><tr><td>password</td><td>string</td><td></td><td>Password to authenticate to the image registry</td></tr><tr><td>root_ca</td><td>string</td><td></td><td>PEM encoded CA certificates file</td></tr><tr><td>client_cert</td><td>string</td><td></td><td>PEM encoded certificate file to authenticate to the image registry</td></tr><tr><td>client_key</td><td>string</td><td></td><td>PEM encoded unencrypted private key file to authenticate to the image registry</td></tr><tr><td><strong>Registry access - insecure</strong></td><td></td><td></td><td></td></tr><tr><td>insecure_registries</td><td>string[]</td><td>localhost</td><td>Image registries that do not use valid certificates or do not require a HTTPS connection, the format is: <code>host[:port]</code></td></tr><tr><td><strong>Networking</strong></td><td></td><td></td><td></td></tr><tr><td>home_dir</td><td>string</td><td>/var/lib/container-management</td><td>Home directory for the network manager data</td></tr><tr><td>exec_root_dir</td><td>string</td><td>/var/run/container-management</td><td>Root directory for the network manager&rsquo;s executable artifacts</td></tr><tr><td><strong>Networking - bridge</strong></td><td></td><td></td><td></td></tr><tr><td>name</td><td>string</td><td>kanto-cm0</td><td>Bridge name</td></tr><tr><td>ip4</td><td>string</td><td></td><td>Bridge IPv4 address</td></tr><tr><td>fcidr4</td><td>string</td><td></td><td>IPv4 address range for the bridge, using the standard CIDR notation</td></tr><tr><td>gwip4</td><td>string</td><td></td><td>Bridge gateway IPv4 address</td></tr><tr><td>enable_ip6</td><td>bool</td><td>false</td><td>Permit the bridge IPv6 support</td></tr><tr><td>mtu</td><td>int</td><td>1500</td><td>Bridge maximum transmission unit in bytes</td></tr><tr><td>icc</td><td>bool</td><td>true</td><td>Permit the inter-container communication</td></tr><tr><td>ip_tables</td><td>bool</td><td>true</td><td>Permit the IP tables rules</td></tr><tr><td>ip_forward</td><td>bool</td><td>true</td><td>Permit the IP forwarding</td></tr><tr><td>ip_masq</td><td>bool</td><td>true</td><td>Permit the IP masquerading</td></tr><tr><td>userland_proxy</td><td>bool</td><td>false</td><td>Forbid the userland proxy for the loopback traffic</td></tr><tr><td><strong>Local communication</strong></td><td></td><td></td><td></td></tr><tr><td>protocol</td><td>string</td><td>unix</td><td>Communication protocol used for accessing the gRPC server, the possible values are: tcp, tcp4, tcp6, unix or unixpacket</td></tr><tr><td>address_path</td><td>string</td><td>/run/container-management/container-management.sock</td><td>Path to the gRPC server&rsquo;s communication endpoint</td></tr><tr><td><strong>Digital twin</strong></td><td></td><td></td><td></td></tr><tr><td>enable</td><td>bool</td><td>true</td><td>Permit the container manager digital twin representation</td></tr><tr><td>home_dir</td><td>string</td><td>/var/lib/container-management</td><td>Home directory for the digital twin data</td></tr><tr><td>features</td><td>string[]</td><td>ContainerFactory, SoftwareUpdatable</td><td>Features that will be registered for the container manager digital twin, the possible values are: ContainerFactory and SoftwareUpdatable</td></tr><tr><td><strong>Digital twin - connectivity</strong></td><td></td><td></td><td></td></tr><tr><td>broker_url</td><td>string</td><td>tcp://localhost:1883</td><td>Address of the MQTT server/broker that the container manager will connect for the local communication, the format is: <code>scheme://host:port</code></td></tr><tr><td>keep_alive</td><td>int</td><td>20000</td><td>Keep alive duration in milliseconds for the MQTT requests</td></tr><tr><td>disconnect_timeout</td><td>int</td><td>250</td><td>Disconnect timeout in milliseconds for the MQTT server/broker</td></tr><tr><td>client_username</td><td>string</td><td></td><td>Username that is a part of the credentials</td></tr><tr><td>client_password</td><td>string</td><td></td><td>Password that is a part of the credentials</td></tr><tr><td>connect_timeout</td><td>int</td><td>30000</td><td>Connect timeout in milliseconds for the MQTT server/broker</td></tr><tr><td>acknowledge_timeout</td><td>int</td><td>15000</td><td>Acknowledge timeout in milliseconds for the MQTT requests</td></tr><tr><td>subscribe_timeout</td><td>int</td><td>15000</td><td>Subscribe timeout in milliseconds for the MQTT requests</td></tr><tr><td>unsubscribe_timeout</td><td>int</td><td>5000</td><td>Unsubscribe timeout in milliseconds for the MQTT requests</td></tr><tr><td><strong>Logging</strong></td><td></td><td></td><td></td></tr><tr><td>log_file</td><td>string</td><td>log/container-management.log</td><td>Path to the file where the container manager&rsquo;s log messages are written</td></tr><tr><td>log_level</td><td>string</td><td>INFO</td><td>All log messages at this or a higher level will be logged, the log levels in descending order are: ERROR, WARN, INFO, DEBUG and TRACE</td></tr><tr><td>log_file_count</td><td>int</td><td>5</td><td>Log file maximum rotations count</td></tr><tr><td>log_file_max_age</td><td>int</td><td>28</td><td>Log file rotations maximum age in days, use 0 to not remove old log files</td></tr><tr><td>log_file_size</td><td>int</td><td>2</td><td>Log file size in MB before it gets rotated</td></tr><tr><td>syslog</td><td>bool</td><td>false</td><td>Route logs to the local syslog</td></tr></tbody></table><h3 id=example>Example</h3><p>The minimal required configuration that sets a timeout period of 5 seconds for the managed containers to stop gracefully.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;manager&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;default_ctrs_stop_timeout&#34;</span>: <span style=color:#099>5</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;log&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;log_file&#34;</span>: <span style=color:#a50>&#34;/var/log/container-management/container-management.log&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=template>Template</h3><p>The configuration can be further adjusted according to the use case.
The following template illustrates all possible properties with their default values.</p><div class="alert primary alert-docs-container" role=alert><div><span class=alert-docs-pic><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192"><defs><style>.cls-alert-warn{fill:#476e40}</style></defs><title>Warning</title><path class="cls-alert-warn" d="M175.783 160H16.217L96 15.735 175.783 160zm-146-8h132.434L96 32.265 29.783 152zm73.328-15.111c0 3.89-3.222 7.111-7.111 7.111-4 0-7.111-3.11-7.111-7.111.0-4 3.11-7.111 7.111-7.111 3.889.0 7.111 3.222 7.111 7.11zm-12.223-48V64h10.223v24.889l-2.667 30.667h-4.888l-2.668-30.667z"/></svg></span></div>Be aware that in the registry configuration the host (used as a key) has to be set instead of the default empty string, the format is: host[:port]</div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;manager&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;home_dir&#34;</span>: <span style=color:#a50>&#34;/var/lib/container-management&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;exec_root_dir&#34;</span>: <span style=color:#a50>&#34;/var/run/container-management&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;container_client_sid&#34;</span>: <span style=color:#a50>&#34;container-management.service.local.v1.service-containerd-client&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;network_manager_sid&#34;</span>: <span style=color:#a50>&#34;container-management.service.local.v1.service-libnetwork-manager&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;default_ctrs_stop_timeout&#34;</span>: <span style=color:#099>30</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;containers&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;default_ns&#34;</span>: <span style=color:#a50>&#34;kanto-cm&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;address_path&#34;</span>: <span style=color:#a50>&#34;/run/containerd/containerd.sock&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;exec_root_dir&#34;</span>: <span style=color:#a50>&#34;/var/run/container-management&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;home_dir&#34;</span>: <span style=color:#a50>&#34;/var/lib/container-management&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;image_dec_keys&#34;</span>: [],
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;image_dec_recipients&#34;</span>: [],
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;runc_runtime&#34;</span>: <span style=color:#a50>&#34;io.containerd.runc.v2&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;registry_configurations&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;credentials&#34;</span>: {
</span></span><span style=display:flex><span>                    <span style=color:#1e90ff;font-weight:700>&#34;user_id&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#1e90ff;font-weight:700>&#34;password&#34;</span>: <span style=color:#a50>&#34;&#34;</span>
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                <span style=color:#1e90ff;font-weight:700>&#34;transport&#34;</span>: {
</span></span><span style=display:flex><span>                    <span style=color:#1e90ff;font-weight:700>&#34;root_ca&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#1e90ff;font-weight:700>&#34;client_cert&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#1e90ff;font-weight:700>&#34;client_key&#34;</span>: <span style=color:#a50>&#34;&#34;</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;insecure_registries&#34;</span>: [
</span></span><span style=display:flex><span>            <span style=color:#a50>&#34;localhost&#34;</span>
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;network&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;home_dir&#34;</span>: <span style=color:#a50>&#34;/var/lib/container-management&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;exec_root_dir&#34;</span>: <span style=color:#a50>&#34;/var/run/container-management&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;default_bridge&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;name&#34;</span>: <span style=color:#a50>&#34;kanto-cm0&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;ip4&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;fcidr4&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;enable_ip6&#34;</span>: <span style=color:#00a>false</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;mtu&#34;</span>: <span style=color:#099>1500</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;icc&#34;</span>: <span style=color:#00a>true</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;ip_tables&#34;</span>: <span style=color:#00a>true</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;ip_forward&#34;</span>: <span style=color:#00a>true</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;ip_masq&#34;</span>: <span style=color:#00a>true</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;userland_proxy&#34;</span>: <span style=color:#00a>false</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;grpc_server&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;protocol&#34;</span>: <span style=color:#a50>&#34;unix&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;address_path&#34;</span>: <span style=color:#a50>&#34;/run/container-management/container-management.sock&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;things&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;enable&#34;</span>: <span style=color:#00a>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;home_dir&#34;</span>: <span style=color:#a50>&#34;/var/lib/container-management&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;features&#34;</span>: [
</span></span><span style=display:flex><span>            <span style=color:#a50>&#34;ContainerFactory&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#a50>&#34;SoftwareUpdatable&#34;</span>
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;connection&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;broker_url&#34;</span>: <span style=color:#a50>&#34;tcp://localhost:1883&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;keep_alive&#34;</span>: <span style=color:#099>20000</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;disconnect_timeout&#34;</span>: <span style=color:#099>250</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;client_username&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;client_password&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;connect_timeout&#34;</span>: <span style=color:#099>30000</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;acknowledge_timeout&#34;</span>: <span style=color:#099>15000</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;subscribe_timeout&#34;</span>: <span style=color:#099>15000</span>,
</span></span><span style=display:flex><span>            <span style=color:#1e90ff;font-weight:700>&#34;unsubscribe_timeout&#34;</span>: <span style=color:#099>5000</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;log&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;log_file&#34;</span>: <span style=color:#a50>&#34;log/container-management.log&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;log_level&#34;</span>: <span style=color:#a50>&#34;INFO&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;log_file_count&#34;</span>: <span style=color:#099>5</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;log_file_size&#34;</span>: <span style=color:#099>2</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;log_file_max_age&#34;</span>: <span style=color:#099>28</span>,
</span></span><span style=display:flex><span>        <span style=color:#1e90ff;font-weight:700>&#34;syslog&#34;</span>: <span style=color:#00a>false</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-b2c1d21c4a9cc13d9be27087a3526748>4 - Software update configuration</h1><div class=lead>Customize the deployment and management of software artifacts.</div><h3 id=properties>Properties</h3><p>To control all aspects of the software update behavior.</p><table><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>featureId</td><td>string</td><td>SoftwareUpdatable</td><td>Feature unique identifier in the scope of the edge digital twin</td></tr><tr><td>moduleType</td><td>string</td><td>software</td><td>Type of the software that is managed by this feature</td></tr><tr><td>artifactType</td><td>string</td><td>archive</td><td>Type of the artifact that is to be processed: archive or plain</td></tr><tr><td>install</td><td>string[]</td><td></td><td>Absolute path to the install script/command and an optional sequence of additional flags/parameters</td></tr><tr><td>storageLocation</td><td>string</td><td>./</td><td>Path to the storage directory where the working files are stored</td></tr><tr><td><strong>Local connectivity</strong></td><td></td><td></td><td></td></tr><tr><td>broker</td><td>string</td><td>tcp://localhost:1883</td><td>Address of the MQTT server/broker that the software update will connect for the local communication, the format is: <code>scheme://host:port</code></td></tr><tr><td>username</td><td>string</td><td></td><td>Username that is a part of the credentials</td></tr><tr><td>password</td><td>string</td><td></td><td>Password that is a part of the credentials</td></tr><tr><td><strong>Logging</strong></td><td></td><td></td><td></td></tr><tr><td>logFile</td><td>string</td><td>log/software-update.log</td><td>Path to the file where log messages are written</td></tr><tr><td>logLevel</td><td>string</td><td>INFO</td><td>All log messages at this or higher level will be logged, the log levels in descending order are: ERROR, WARN, INFO, DEBUG and TRACE</td></tr><tr><td>logFileCount</td><td>int</td><td>5</td><td>Log file maximum rotations count</td></tr><tr><td>logFileMaxAge</td><td>int</td><td>28</td><td>Log file rotations maximum age in days, use 0 to not remove old log files</td></tr><tr><td>logFileSize</td><td>int</td><td>2</td><td>Log file size in MB before it gets rotated</td></tr></tbody></table><h3 id=example>Example</h3><p>The minimal required configuration that sets the software type to firmware.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;moduleType&#34;</span>: <span style=color:#a50>&#34;firmware&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;storageLocation&#34;</span>: <span style=color:#a50>&#34;/var/lib/software-update&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;/var/log/software-update/software-update.log&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=template>Template</h3><p>The configuration can be further adjusted according to the use case.
The following template illustrates all possible properties with their default values.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;featureId&#34;</span>: <span style=color:#a50>&#34;SoftwareUpdatable&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;moduleType&#34;</span>: <span style=color:#a50>&#34;software&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;artifactType&#34;</span>: <span style=color:#a50>&#34;archive&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;install&#34;</span>: [],
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;storageLocation&#34;</span>: <span style=color:#a50>&#34;./&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;broker&#34;</span>: <span style=color:#a50>&#34;tcp://localhost:1883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;username&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;password&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;log/software-update.log&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logLevel&#34;</span>: <span style=color:#a50>&#34;INFO&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileCount&#34;</span>: <span style=color:#099>5</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileMaxAge&#34;</span>: <span style=color:#099>28</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileSize&#34;</span>: <span style=color:#099>2</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-01316635438332b05a343c9a9910a8c4>5 - File upload configuration</h1><div class=lead>Customize the files transfer to a backend storage.</div><h3 id=properties>Properties</h3><p>To control all aspects of the file upload behavior.</p><table><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>featureId</td><td>string</td><td>AutoUploadable</td><td>Feature unique identifier in the scope of the edge digital twin</td></tr><tr><td>type</td><td>string</td><td>file</td><td>Type of the files that are uploaded by this feature</td></tr><tr><td>context</td><td>string</td><td>edge</td><td>Context of the files that are uploaded by this feature, unique in the scope of the <code>type</code></td></tr><tr><td>files</td><td>string</td><td></td><td>Glob pattern to select the files for upload</td></tr><tr><td>mode</td><td>string</td><td>strict</td><td>Restriction on files that can be dynamically selected for an upload, the supported modes are: strict, lax and scoped</td></tr><tr><td>singleUpload</td><td>bool</td><td>false</td><td>Forbid triggering of new uploads when there is an upload in progress</td></tr><tr><td>checksum</td><td>bool</td><td>false</td><td>Send MD5 checksum for uploaded files to ensure data integrity</td></tr><tr><td>stopTimeout</td><td>string</td><td>30s</td><td>Time to wait for running uploads to finish as a sequence of decimal numbers, each with optional fraction and a unit suffix, such as: 300ms, 1.5h, 10m30s, etc., time units are: ns, us (or µs), ms, s, m, h</td></tr><tr><td>delete</td><td>bool</td><td>false</td><td>Delete successfully uploaded files</td></tr><tr><td><strong>Upload - TLS</strong></td><td></td><td></td><td></td></tr><tr><td>serverCert</td><td>string</td><td></td><td>PEM encoded certificate file for secure uploads</td></tr><tr><td><strong>Auto upload</strong></td><td></td><td></td><td></td></tr><tr><td>active</td><td>bool</td><td>false</td><td>Activate periodic uploads</td></tr><tr><td>activeFrom</td><td>string</td><td></td><td>Time from which periodic uploads should be active, in RFC 3339 format, if omitted (and <code>active</code> flag is set) current time will be used as start of the periodic uploads</td></tr><tr><td>activeTill</td><td>string</td><td></td><td>Time till which periodic uploads should be active, in RFC 3339 format, if omitted (and <code>active</code> flag is set) periodic uploads will be active indefinitely</td></tr><tr><td>period</td><td>string</td><td>10h</td><td>Upload period as a sequence of decimal numbers, each with optional fraction and a unit suffix, such as: 300ms, 1.5h, 10m30s, etc., time units are: ns, us (or µs), ms, s, m, h</td></tr><tr><td><strong>Local connectivity</strong></td><td></td><td></td><td></td></tr><tr><td>broker</td><td>string</td><td>tcp://localhost:1883</td><td>Address of the MQTT server/broker that the file upload will connect for the local communication, the format is: <code>scheme://host:port</code></td></tr><tr><td>username</td><td>string</td><td></td><td>Username that is a part of the credentials</td></tr><tr><td>password</td><td>string</td><td></td><td>Password that is a part of the credentials</td></tr><tr><td><strong>Local connectivity - TLS</strong></td><td></td><td></td><td></td></tr><tr><td>caCert</td><td>string</td><td></td><td>PEM encoded CA certificates file</td></tr><tr><td>cert</td><td>string</td><td></td><td>PEM encoded certificate file to authenticate to the MQTT server/broker</td></tr><tr><td>key</td><td>string</td><td></td><td>PEM encoded unencrypted private key file to authenticate to the MQTT server/broker</td></tr><tr><td><strong>Logging</strong></td><td></td><td></td><td></td></tr><tr><td>logFile</td><td>string</td><td>log/file-upload.log</td><td>Path to the file where log messages are written</td></tr><tr><td>logLevel</td><td>string</td><td>INFO</td><td>All log messages at this or higher level will be logged, the log levels in descending order are: ERROR, WARN, INFO, DEBUG and TRACE</td></tr><tr><td>logFileCount</td><td>int</td><td>5</td><td>Log file maximum rotations count</td></tr><tr><td>logFileMaxAge</td><td>int</td><td>28</td><td>Log file rotations maximum age in days, use 0 to not remove old log files</td></tr><tr><td>logFileSize</td><td>int</td><td>2</td><td>Log file size in MB before it gets rotated</td></tr></tbody></table><h3 id=example>Example</h3><p>The minimal required configuration that sets the file type to log.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;type&#34;</span>: <span style=color:#a50>&#34;log&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;files&#34;</span>: <span style=color:#a50>&#34;/var/tmp/file-upload/*.*&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;/var/log/file-upload/file-upload.log&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=template>Template</h3><p>The configuration can be further adjusted according to the use case.
The following template illustrates all possible properties with their default values.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;featureId&#34;</span>: <span style=color:#a50>&#34;AutoUploadable&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;type&#34;</span>: <span style=color:#a50>&#34;file&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;context&#34;</span>: <span style=color:#a50>&#34;edge&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;files&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;mode&#34;</span>: <span style=color:#a50>&#34;strict&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;singleUpload&#34;</span>: <span style=color:#00a>false</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;checksum&#34;</span>: <span style=color:#00a>false</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;stopTimeout&#34;</span>: <span style=color:#a50>&#34;30s&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;delete&#34;</span>: <span style=color:#00a>false</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;serverCert&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;active&#34;</span>: <span style=color:#00a>false</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;activeFrom&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;activeTill&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;period&#34;</span>: <span style=color:#a50>&#34;10h&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;broker&#34;</span>: <span style=color:#a50>&#34;tcp://localhost:1883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;username&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;password&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;caCert&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;cert&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;key&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;log/file-upload.log&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logLevel&#34;</span>: <span style=color:#a50>&#34;INFO&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileCount&#34;</span>: <span style=color:#099>5</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileMaxAge&#34;</span>: <span style=color:#099>28</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileSize&#34;</span>: <span style=color:#099>2</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-0eee451d3069409589fa6cb50119a20b>6 - System metrics configuration</h1><div class=lead>Customize the reporting of system metrics.</div><h3 id=properties>Properties</h3><p>To control all aspects of the system metrics behavior.</p><table><thead><tr><th>Property</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>frequency</td><td>string</td><td></td><td>Initial system metrics reporting frequency as a sequence of decimal numbers, each with optional fraction and a unit suffix, such as: 300ms, 1.5h, 10m30s, etc., time units are: ns, us (or µs), ms, s, m, h</td></tr><tr><td><strong>Local connectivity</strong></td><td></td><td></td><td></td></tr><tr><td>broker</td><td>string</td><td>tcp://localhost:1883</td><td>Address of the MQTT server/broker that the system metrics will connect for the local communication, the format is: <code>scheme://host:port</code></td></tr><tr><td>username</td><td>string</td><td></td><td>Username that is a part of the credentials</td></tr><tr><td>password</td><td>string</td><td></td><td>Password that is a part of the credentials</td></tr><tr><td><strong>Logging</strong></td><td></td><td></td><td></td></tr><tr><td>logFile</td><td>string</td><td>log/system-metrics.log</td><td>Path to the file where log messages are written</td></tr><tr><td>logLevel</td><td>string</td><td>INFO</td><td>All log messages at this or higher level will be logged, the log levels in descending order are: ERROR, WARN, INFO, DEBUG and TRACE</td></tr><tr><td>logFileCount</td><td>int</td><td>5</td><td>Log file maximum rotations count</td></tr><tr><td>logFileMaxAge</td><td>int</td><td>28</td><td>Log file rotations maximum age in days, use 0 to not remove old log files</td></tr><tr><td>logFileSize</td><td>int</td><td>2</td><td>Log file size in MB before it gets rotated</td></tr></tbody></table><h3 id=example>Example</h3><p>The minimal required configuration that enables the auto reporting of system metrics.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;frequency&#34;</span>: <span style=color:#a50>&#34;60s&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;/var/log/system-metrics/system-metrics.log&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=template>Template</h3><p>The configuration can be further adjusted according to the use case.
The following template illustrates all possible properties with their default values.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;frequency&#34;</span> : <span style=color:#a50>&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#a50>&#34;broker&#34;</span>: <span style=color:#a50>&#34;tcp://localhost:1883&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;username&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;password&#34;</span>: <span style=color:#a50>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFile&#34;</span>: <span style=color:#a50>&#34;log/system-metrics.log&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logLevel&#34;</span>: <span style=color:#a50>&#34;INFO&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileCount&#34;</span>: <span style=color:#099>5</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileMaxAge&#34;</span>: <span style=color:#099>28</span>,
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;logFileSize&#34;</span>: <span style=color:#099>2</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Eclipse Kanto Project" aria-label="Eclipse Kanto Project"><a class=text-white target=_blank rel=noopener href=https://projects.eclipse.org/projects/iot.kanto aria-label="Eclipse Kanto Project"><i class="fas fa-external-link-alt"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/eclipse-kanto aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://accounts.eclipse.org/mailing-list/kanto-dev aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 The Eclipse Kanto™ Project. All Rights Reserved.</small></div></div><div class=row><div class="col-12 text-center mb-2"><a href=https://eclipse.org/projects/what-is-incubation.php><img class=eclipse-incubation-logo src=https://websites.eclipseprojects.io/kanto//images/logos/eclipse/eclipse_incubation_horizontal.svg alt=eclipse-incubation-logo></a>
<a href=https://iot.eclipse.org/><img class=eclipse-iot-logo src="https://websites.eclipseprojects.io/kanto//images/logos/eclipse/new_iot_logo_clr -white.svg" alt=eclipse-iot></a></div></div><div class=row><div class="col-12 text-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2"><small class=ml-1><a class=text-footer-menu target=_blank rel=noopener href=https://eclipse.org>Eclipse Foundation</a></small></li><li class="list-inline-item mx-2"><small class=ml-1><a class=text-footer-menu target=_blank rel=noopener href=https://eclipse.org/legal/privacy.php>Privacy Policy</a></small></li><li class="list-inline-item mx-2"><small class=ml-1><a class=text-footer-menu target=_blank rel=noopener href=https://eclipse.org/legal/termsofuse.php>Terms of Use</a></small></li><li class="list-inline-item mx-2"><small class=ml-1><a class=text-footer-menu target=_blank rel=noopener href=https://eclipse.org/legal/copyright.php>Copyright Agent</a></small></li><li class="list-inline-item mx-2"><small class=ml-1><a class=text-footer-menu target=_blank rel=noopener href=https://eclipse.org/legal/>Legal</a></small></li><li class="list-inline-item mx-2"><small class=ml-1><a class=text-footer-menu target=_blank rel=noopener href=https://github.com/eclipse-kanto/kanto/raw/main/LICENSE>License</a></small></li><li class="list-inline-item mx-2"><small class=ml-1><a class=text-footer-menu target=_blank rel=noopener href=https://eclipse.org/security/>Report a Vulnerability</a></small></li></ul></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/kanto/js/tabpane-persist.js></script>
<script src=/kanto/js/main.min.63f7ccf0f6f052be82a52cc628622eadcdaa7d38aa242c60a3cad13badb12dd9.js integrity="sha256-Y/fM8PbwUr6CpSzGKGIurc2qfTiqJCxgo8rRO62xLdk=" crossorigin=anonymous></script>
<script src=/kanto/js/prism.js></script>
<script src=//www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js></script></body></html>